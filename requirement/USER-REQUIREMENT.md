## 로그인, 유저 요구사항 정리 📝


### 문서의 목적

- 이 문서에서는 **[ 16조 - 딜리버리 앱 아웃소싱 팀 프로젝트 ]** 의 로그인, 유저 요구 사항을 정의합니다.
(각각 요구사항 문서 작성 후 통합할 예정)
---

### 문서 기본 정보

- **작성자** : 3BodyProgrammers
- **작성일** : 2025.03.04 (화)

---

### 로그인 요구사항 - (김유란 작성 2025.03.04)

#### 회원가입
- 이메일, 비밀번호, 이름, 사용자 권한이 존재해야 한다.
- 각 속성의 요구 조건을 하나라도 만족하지 않으면 예외 처리한다. (@Valid)
- 비밀번호는 최소 8글자 이상이며 대소문자 포함 영문 + 숫자 + 특수문자를 최소 1글자씩 포함한다.
- 회원가입 시 일반 유저(USER) 또는 사장님(OWNER)으로 가입할 수 있다.
- 비밀번호는 Bcrypt로 인코딩한다.
- 중복된 이메일로 가입하는 경우 예외 처리한다. 
- 가입 성공 시 bearerToken을 반환한다.

#### 로그인
- 가입한 이메일과 비밀번호로 로그인한다.
- 각 속성의 요구 조건을 하나라도 만족하지 않으면 예외 처리한다. (@Valid)
- 가입되지 않은 유저라면 예외 처리한다.
- 비밀번호가 일치하지 않다면 예외 처리한다.
- 로그인 성공 시 bearerToken을 반환한다.

---

### 유저 요구사항 - (김유란 작성 2025.03.04)

#### 내 정보 조회
- 로그인된 유저의 정보를 조회한다.
- 유저를 찾을 수 없다면 예외 처리한다.
- 조회 성공 시 유저 id, 이메일, 이름, 권한, 생성일, 수정일을 반환한다.

#### 내 정보 수정
- 로그인된 유저의 정보를 수정한다. 
- 유저를 찾을 수 없다면 예외 처리한다.
- 기존 비밀번호, 새 비밀번호, 이름이 존재해야 한다.
- 각 속성의 요구 조건을 하나라도 만족하지 않으면 예외 처리한다. (@Valid)
- 새 비밀번호가 기존 비밀번호와 같으면 예외 처리한다.
- 기존 비밀번호와 입력한 비밀번호가 일치하지 않으면 예외 처리한다.
- 수정 성공 시 유저 id, 이메일, 이름, 권한, 생성일, 수정일을 반환한다.

#### 회원 탈퇴
- 로그인된 유저를 삭제한다.
- 비밀번호가 존재해야 한다.
- 각 속성의 요구 조건을 하나라도 만족하지 않으면 예외 처리한다. (@Valid)
- 유저를 찾을 수 없다면 예외 처리한다.
- 이미 탈퇴한 유저라면 예외 처리한다.
- 비밀번호가 일치하지 않으면 예외 처리한다.
- 탈퇴한 유저의 이메일은 재사용할 수 없고, 복구할 수 없다.
- 유저 삭제 시 유저의 deletedAt에 현재 시간을 저장한다.
- 탈퇴 성공 시 "회원 탈퇴가 완료되었습니다" 메세지를 반환한다.


---