## 가게 요구사항 정리

### 문서의 목적

이 문서에서는 **[ 16조 - 딜리버리 앱 아웃소싱 팀 프로젝트 ]** 의 가게 요구 사항을 정의합니다.
(각각 요구사항 문서 작성 후 통합할 예정)
-----

### 문서 기본 정보

- **작성자** : 3BodyProgrammers
- **작성일** : 2025.03.00 (일)

-----

### 주문 요구사항 - (김지영 작성 2025.03.02)

#### 주문 생성
- 주문 생성 요청은 USER의 계정이어야 한다.
- 주문은 최소 금액을 충족시켜야 한다.
- 주문 생성은 휴일이 아닌 날, 가게의 오픈 시간과 마감 시간 이내에 가능하다. 
- 주문 메뉴는 해당 가게의 메뉴만 가능하며 하나의 메뉴만 주문할 수 있다.
- 폐업한 가계에서는 주문이 불가능하다.
- 위 조건 중 하나라도 부합하지 않으면 예외처리한다.
- 주문이 성공적으로 요청되면 주문 id, 가게 id, 메뉴 이름, 가격, 주문상태, 생성일, 수정일을 담은 dto 객체를 반환 해야 한다.

#### 주문 상태 변경
- OWNER는 주문 취소, 주문 수락(조리중), 배송시작, 완료 등의 상태변경이 가능하다.
- USER는 OWNER가 주문 수락을 하기 전에 주문 취소가 가능하다.
- OWNER는 자기 가게에 대한 주문상태를 변경할 수 있다.
- 주문요청 성공 또는 OWNER가 주문상태 변경을 성공했을 시 주문 id, USER id, 가게 id, 메뉴이름, 가격, 주문상태, 생성일, 수정일을 반환한다.(AOP 로그 반환)

#### 전체 주문 조회
- 주문 내역 리스트는 전체, 0번, 10개의 Page 형태로 조회된다.
- 각 주문 리스트는 주문 id, USER id, 가게 id, 메뉴이름, 가격, 주문상태, 생성일, 수정일을 반환한다.

#### 단건 주문 조회
- 주문 id를 통해 조회된다.
- 만약 id에 해당하는 주문이 없다면, 예외 처리 한다.
- 반환은 주문 id, USER id, 가게 id, 메뉴이름, 가격, 주문상태, 생성일, 수정일을 반환한다.

#### 주문 취소
- 주문 id를 통해 취소 할 수 있어야 한다.
- USER의 경우 주문 수락 상태 이전에만 취소가 가능하다. 
- 가게 이름, 오픈 시간, 마감 시간, 최소 주문 금액 중 하나 라도 조건에 맞지 않으면, 예외 처리 한다.(@Valid)
- 취소하려는 주문이 없다면 예외처리 한다.
- USER는 해당 가게 OWNER의 수락 이전에만 취소가 가능하다.
- 주문 취소 시 OWNER와 가게의 OWNER가 같아야 한다.
- 주문이 취소 된 경우 주문 취소 성공 메세지가 반한된다. // 헷갈림

-----